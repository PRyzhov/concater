# concater.py

Утилита на Python для обхода директории и объединения всех текстовых файлов в один выходной файл с метками начала и конца каждого файла. Это может быть полезно для работы с LLM-моделями.

## Возможности

* Рекурсивный обход указанной корневой директории
* Исключение файлов и папок по glob-паттернам (`EXCLUDE_PATTERNS`)
* Принудительное включение файлов/папок через glob-паттерны (`INCLUDE_PATTERNS`)
* Обработка только текстовых файлов в кодировке UTF-8
* Добавление меток перед и после содержимого каждого файла:

  ```
  ### begin `{relative_path}` ###
  ... содержимое файла ...
  ### end `{relative_path}` ###
  ```

## Требования

* Python 3.6 и выше
* Модуль `fnmatch` (входит в стандартную библиотеку)

## Установка

1. Склонируйте репозиторий или скопируйте файл скрипта в ваш проект:

   ```bash
   git clone <репозиторий>
   cd <репозиторий>
   ```
2. Сделайте скрипт исполняемым (опционально):

   ```bash
   chmod +x concater.py
   ```

## Настройка

Внутри `concater.py` задаются два списка glob-паттернов:

* `EXCLUDE_PATTERNS` — файлы и папки, которые необходимо пропустить
* `INCLUDE_PATTERNS` — файлы и папки, которые нужно добавить даже при совпадении с `EXCLUDE_PATTERNS`

Пример:

```python
EXCLUDE_PATTERNS = [
    "*.tmp",
    "build/*",
]
INCLUDE_PATTERNS = [
    "important/*.txt",
]
```

## Использование

```bash
# Объединить все файлы из директории `src/` в `output.txt`
python3 concater.py src/ output.txt

# или
./concater.py /path/to/root result.txt
```

После выполнения в `output.txt` будут содержаться все текстовые файлы с метками.

## Примеры

```bash
# Пропускаем временные и лог-файлы из EXCLUDE_PATTERNS,
# но включая файлы из папки important даже если они в exclude:
EXCLUDE_PATTERNS = ["*.log", "tmp/*"]
INCLUDE_PATTERNS = ["important/*"]

./concater.py project/ all.txt
```

## Вклад

Пожалуйста, создавайте issues и pull requests в репозитории. Любые улучшения и баг-репорты приветствуются!

## Лицензия

Этот проект распространяется под MIT License — свободной открытой лицензией с разрешением на использование, копирование, модификацию и распространение. Подробнее см. в файле LICENSE.
